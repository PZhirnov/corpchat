# Корпортаивный чат на asyncio - приложение для закрытой корпоративной сети


<details>
<summary>
   <strong>
      Информация об оформлении коммитов
   </strong>
</summary>

- **feat:** (новая функционал кода, БЕЗ учёта функционала для сборок)
- **devops:** (функционал для сборки, - добавление, удаление и исправление)
- **fix:** (исправление ошибок функционального кода)
- **docs:** (изменения в документации)
- **style:** (форматирование, отсутствующие точки с запятой и т.п., без изменения производственного кода)
- **refactor:** (рефакторинг производственного кода, например, переименование переменной)
- **test:** (добавление недостающих тестов, рефакторинг тестов; без изменения производственного кода)
- **chore:** (обновление рутинных задач и т. д.; без изменения производственного кода).

Пример коммита `feat: Add schemas`

</details>

## Инструкция по запуску

### Работа с БД

Проект может работать со следующими БД:

- postgresql;
- sqlite.


### Работа с docker-compose

Для корректной сборки всего проекта необходимо:

1. Перенести файлы полученные командой `npm run build` (директория build) на
   стороне frontend-части в директорию `frontend_build` на backend-части (именно
   содержание, а не саму директорию).
2. Запустить сборку docker-compose (можно запустить в режиме "демона" добавив ключ `-d`):
   ```
   docker-compose up --build --remove-orphan
   ```

Для остановки необходимо ввести команду:

```
docker-compose down
```

___

**ВАЖНО!!** Для проброса директории postgresql (для сохранения данных в БД)
можно раскомментировать в `docker-compose.yml` следующие строчки:

```yaml
#    volumes:
#      - ${POSTGRES_DATA_VOLUME}:/var/lib/postgresql/data/
```

При этом файлы БД будут создаваться в директории `postgres_data`, однако работа
с ними происходит под пользователем root (если работаете не под ним
необходимо будет подменить права на директорию при работе под unix):

```shell
sudo chown <you user>:<you group> postgres_data/
```

**ВАЖНО!!** Также необходимо в дальнейшем создать корректные скрипты создания
суперпользователя по умолчанию (без очистки БД).

### При разработке

Для запуска приложения необходимо:

1. Скопировать шаблон-файл переменных окружения `.env.example` и переименовать копию в `.env`.
2. Ввести свои настройки в `.env` (с настройками по-умолчанию работать не безопасно).
3. Создать виртуальное окружение (интерпретатор при разработке `python = "^3.9.15"`)
   и установить зависимости из `requirements.txt`.
   ```shell
   pip install -r requirements.txt
   ```

   _Примечание_ - _При работе с другими инструментами управления зависимостями при_
   _установке новых зависимостей **в обязательном порядке** сохраняем их в `requirements.txt`.


Доработали информацию по объекту